<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container">
<div id="content" style="display: none;">
    <h2 class="mt-5">Welcome to Home Page!</h2>
    <p>This page is visible after successful login.</p>
</div>

<script>
    (async function checkToken() {
    debugger;
      const token = localStorage.getItem("jwtToken");
      if (!token) {
        window.location.href = "/login.html";
        return;
      }

      const res = await fetch("/api/validate", {
        headers: { "Authorization": "Bearer " + token }
      });

      if (!res.ok) {
        localStorage.removeItem("jwtToken");
        window.location.href = "/login.html";
      }
    })();
</script>

</body>
</html>
